<!DOCTYPE html>
<html lang="en">

<head>
    <title>Quizzes</title>
    <link rel="icon" type="image/ico" href="assets/favico.ico">
    <link rel="stylesheet" href="../style/create-quiz.css">
    <link rel="stylesheet" href="../style/add-card.css">
    <link rel="stylesheet" href="../style/navbar.css">
    <script src="../js/jquery.min.js"></script>
    <script src="../js/quizzes.js"></script>
</head>

<body>

    <div class=" navbar sticky">
        <span>
            <a href="/home"> <img src="../assets/Logo.png" class="logo"> </a>
        </span>

        <span class="tab-list">
            <a class="nav-tab" href="/home">Home</a>
            <a class="nav-tab" href="/search">Search</a>
            <a class="nav-tab  selected" href="/quiz">Quiz</a>
            <a class="nav-tab" href="/user">Profile</a>
        </span>
    </div>

    <div class="main-body">

        <form id="SearchForm">
            <div id="pagetitle" class="title"> Quizzes </div>

            <div id="createQuiz">
                <div id="createQ" class="title">Create a Quiz</div>
                <a href="/quiz/create_quiz">
                    <div id="add-card-icon">
                        +
                    </div>
                </a>
            </div>

        </form>

        <div id="searchResultContainer">

            <div id="myQuizContainer">
                <div class="title mypinLabels"> My Quizzes </div>
                {{#each quizzes}}
                <div class="searchResult">
                    <div id="topResult">
                        <div class="searchResultTitle">{{title}}</div>
                        <div class="searchResultUpInfo">{{subject}}</div>
                        <div class="searchResultUpInfo" id="quizDescriptionInfo">{{description}}</div>
                    </div>
                    <div id="botResult">
                        <div id="botInfo">
                            {{#if public}}
                                <div class="searchResultUpInfo" id="privacyLabel">Public</div>
                            {{else}}
                                <div class="searchResultUpInfo" id="privacyLabel">Private</div>
                            {{/if}}
                            <div class="searchResultUpInfo searchResultDownInfo">{{deck.length}} Flashcards</div>
                            <div class="searchResultUpInfo">by {{author.username}}</div>
                        </div>
                        <div id=buttonsResult>
                            <button id="pinBtn" class="searchResult-Btns editBtn" data-id="{{_id}}">Edit</button>
                            <br>
                            <button id="takeQuizBtn" class="searchResult-Btns takeBtn" data-id="{{_id}}">Take Quiz</a>
                        </div>
                    </div>
                </div>
                {{else}}
                    <div id="no_quiz_tag">No quizzes to show...</div>
                {{/each}}
            </div>

            <form action="/quiz/edit_quiz" id="editform">
                <input type="hidden" name="id" id="editid">
            </form>

            

            <div id="pinnedQuizContainer">
                <div class="title mypinLabels"> Pinned Quizzes </div>
                {{#each pinnedquizzes}}
                <div class="searchResult">
                    <div id="topResult">
                        <div class="searchResultTitle">Title {{title}}</div>
                        <div class="searchResultUpInfo">{{subject}}</div>
                        <div class="searchResultUpInfo">{{description}}</div>
                    </div>
                    <div id="botResult">
                        <div id="botInfo">
                            <div class="searchResultUpInfo searchResultDownInfo"># Flashcards</div>
                            <div class="searchResultUpInfo">By: {{author.username}}</div>
                        </div>
                        <div id=buttonsResult>
                            <a id="unpinBtn" class="searchResult-Btns unpinBtn" data-id="{{_id}}">
                                <span>
                                    <img id="pinIcon" src="../assets/pin.png">
                                </span>
                                Unpin
                            </a>
                            <br>
                            <button class="searchResult-Btns takeBtn" data-id = "{{_id}}">Take Quiz</a>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>

            <form action="/quiz/take_quiz" id="takeform">
                <input type="hidden" name="id" id="takeid">
            </form>
        </div>
    </div>

</body>

</html>